[
  {
    "project_type": 1,
    "build_with": [
      {
        "tool": "docker",
        "build_args": [
          {
            "dev": [
              {
                "API_URL": "https://dev.api.wealthmigrate.com"
              }
            ],
            "stg": [
              {
                "API_URL": "https://stg.api.wealthmigrate.com"
              }
            ],
            "prd": [
              {
                "API_URL": "https://prd.api.wealthmigrate.com"
              }
            ]
          }
        ],
        "docker_file_path": "."
      }
    ],
    "aws_environment_variables": [
      {
        "dev": [
          {
            "DB_CONN_STRING": "$MONGO_ADDRESS"
          },
          {
            "JWT_SECRET": "$JWT_SECRET"
          },
          {
            "ENV": "dev"
          },
          {
            "AMQP_ADDR": "$MQ_CONN_STRING"
          },
          {
            "CORS_JSON": {
              "allowed_origins": {
                "Some": {
                  "exact": [
                    "https://dev.platform.wealthmigrate.com",
                    "http://localhost:3000",
                    "https://dev.operations.wealthmigrate.com",
                    "https://platform.privatewealthglobal.com"
                  ]
                }
              },
              "allowed_methods": [
                "POST",
                "GET"
              ],
              "allowed_headers": {
                "Some": [
                  "Authorization",
                  "content-type"
                ]
              },
              "allow_credentials": true,
              "expose_headers": [
                "Content-Type"
              ],
              "max_age": null,
              "send_wildcard": false,
              "fairing_route_base": "/v1"
            }
          }
        ]
      },
      {
        "stg": [
          {
            "DB_CONN_STRING": "$MONGO_ADDRESS"
          },
          {
            "JWT_SECRET": "$JWT_SECRET"
          },
          {
            "ENV": "stg"
          },
          {
            "CORS_JSON": {
              "allowed_origins": {
                "Some": {
                  "exact": [
                    "https://stg.platform.wealthmigrate.com",
                    "http://localhost:3000",
                    "https://stg.operations.wealthmigrate.com",
                    "https://platform.privatewealthglobal.com"
                  ]
                }
              },
              "allowed_methods": [
                "POST",
                "GET"
              ],
              "allowed_headers": {
                "Some": [
                  "Authorization",
                  "content-type"
                ]
              },
              "allow_credentials": true,
              "expose_headers": [
                "Content-Type"
              ],
              "max_age": null,
              "send_wildcard": false,
              "fairing_route_base": "/v1"
            }
          }
        ]
      },
      {
        "prd": [
          {
            "DB_CONN_STRING": "$MONGO_ADDRESS"
          },
          {
            "JWT_SECRET": "$JWT_SECRET"
          },
          {
            "ENV": "prd"
          },
          {
            "CORS_JSON": {
              "allowed_origins": {
                "Some": {
                  "exact": [
                    "https://platform.wealthmigrate.com",
                    "https://operations.wealthmigrate.com",
                    "https://platform.privatewealthglobal.com"
                  ]
                }
              },
              "allowed_methods": [
                "POST",
                "GET"
              ],
              "allowed_headers": {
                "Some": [
                  "Authorization",
                  "content-type"
                ]
              },
              "allow_credentials": true,
              "expose_headers": [
                "Content-Type"
              ],
              "max_age": null,
              "send_wildcard": false,
              "fairing_route_base": "/v1"
            }
          }
        ]
      }
    ],
    "secrets": [
      {
        "type": "Secret text",
        "id": "MONGO_ADDRESS",
        "variable": "MONGO_ADDRESS"
      },
      {
        "type": "Secret text",
        "id": "JWT_SECRET",
        "variable": "JWT_SECRET"
      }
    ],
    "aws_service_routes": [
      {
        "dev": {
          "healthcheck": "/v1/ruletest/healthcheck",
          "routes": [
            {
              "*.wealthmigrate.com": "/v1/rules"
            },
            {
              "*.wealthmigrate.com": "/v1/ruletest"
            }
          ]
        },
        "stg": {
          "healthcheck": "/v1/ruletest/healthcheck",
          "routes": [
            {
              "*.wealthmigrate.com": "/v1/rules"
            },
            {
              "*.wealthmigrate.com": "/v1/ruletest"
            }
          ]
        },
        "prd": {
          "healthcheck": "/v1/ruletest/healthcheck",
          "routes": [
            {
              "*.wealthmigrate.com": "/v1/rules"
            },
            {
              "*.wealthmigrate.com": "/v1/ruletest"
            }
          ]
        }
      }
    ],
    "big_build": "y"
  }
]
